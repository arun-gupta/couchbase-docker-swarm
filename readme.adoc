= Couchbase XDCR using Docker Swarm

http://developer.couchbase.com/documentation/server/current/xdcr/xdcr-intro.html[Couchbase Cross Datacenter Replication] (XDCR) provides an easy way to replicate data from one cluster to another.

* Start Consul: `./start-consul.sh`
* For `cluster` in `[A, B]` do
** Create Docker Swarm cluster A: `./create-docker-swarm-cluster.sh $cluster`
** Start a Couchbase cluster in Docker Swarm A:
+
```
eval "$(docker-machine env --swarm swarm-master-$cluster)"
docker-compose scale db=3
```
+
** Create Couchbase cluster: `./create-couchbase-cluster.sh $cluster`
** Rebalance Couchbase cluster: `./rebalance-couchbase-cluster.sh $cluster`
